<!DOCTYPE html> 
<html lang="en"> 
<head> 
    <title>Objetos de ofrenta </title>
      <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="Ofrenda 3D interactiva para D√≠a de Muertos">
</head>
<body>
    
<canvas id="myCanvas">
    <!--El elemento HTML canvas se puede utilizar para dibujar gr√°ficos a trav√©s de 
        secuencias de comandos (por lo general JavaScript ).-->
</canvas>


<script src="./font/KG HAPPY_Regular.js"></script>



<!-- Aqu√≠ va todo el c√≥digo de three.js -->
<!-- script type="importmap" importa las librer√≠as necesarias para three.js-->
<script type="importmap"> 
    {
        "imports":{
            "three": "./js/three.module.js",
            "three/OrbitControls": "./js/OrbitControls.js" 
        }
}
</script>
<script type="module"> 
//üóÉÔ∏èüóÉÔ∏è Mandar llamar a la librer√≠a
    import * as THREE from 'three'; 
    import {OrbitControls} from 'three/OrbitControls';
    console.log(OrbitControls);

import {RoundedBoxGeometry} from "./js/RoundedBoxGeometry.js"

import {TextGeometry} from "./js/TextGeometry.js";
import {FontLoader} from "./js/FontLoader.js";


import ESC01 from "./objetos/Pan.js"
import ESC02 from "./objetos/Vela.js"
import ESC03 from "./objetos/Cocacola.js"
import ESC04 from "./objetos/Taza1.js"
import ESC05 from "./objetos/Taza2.js"
import ESC06 from "./objetos/Taza3.js"
import ESC07 from "./objetos/Florero.js"
import ESC08 from "./objetos/Florero2.js"
import ESC09 from "./objetos/Florero3.js"
import ESC10 from "./objetos/Copal.js"
import tequila from "./objetos/Tequila.js"
import retrato1 from "./objetos/Retrato.js"
import retrato2 from "./objetos/Retrato2.js"
import retrato3 from "./objetos/Retrato3.js"
import agua from "./objetos/Agua.js"
import mandarina from "./objetos/Mandarina.js"
import MANGO from "./objetos/mangoamarillo.js"
import MANZANA from "./objetos/Manzana.js"
import CUENCO from "./objetos/Cuenco.js"
import Pozole1 from "./objetos/pozole.js"
import PisosOfrenda from "./objetos/pisosofrenda.js"
import Vinyl from "./objetos/cajavinyl.js"
import catrin from "./objetos/catrin.js"
import flor from "./objetos/flor.js"
import arcoflores from "./objetos/arcoflores.js"
import vallas from "./objetos/vallas.js"
import farol from "./objetos/farol.js"
import farolgrande from "./objetos/farol2.js"
import catrina from "./objetos/catrina.js"
import whiskey from "./objetos/Wis.js"
import Aguan from "./objetos/Vaso.js"
import Micro from "./objetos/Microfono.js"
import Caballo from "./objetos/Caballito.js"
import Crucifijo from "./objetos/Cruz.js"
import Sonidero from "./objetos/Grabadora.js"
import tapeteaserrin from "./objetos/tapeteaserrin.js"
import base from "./objetos/base.js"
import velasclonadas from "./objetos/velasgrupo.js"
import Cartel from "./objetos/cartel.js"

//üïπÔ∏èüïπÔ∏è Renderer - Realiza una conexi√≥n entre el c√≥digo y el canvas
    var renderer = new THREE.WebGLRenderer({
    canvas: document.getElementById('myCanvas'), antialias: true,
    });
    renderer.setPixelRatio(window.decivePixelRatio);
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x241440);

    if (/Mobi|Android/i.test(navigator.userAgent)) {
    
    renderer.setPixelRatio(1);
    camera.fov = 75; 
    camera.updateProjectionMatrix();
}

// üé¨ Creando nueva escena - Es el espacio donde se colocan los objetos
    var scene = new THREE.Scene();

//üé•üé• Agregar una c√°mara de perspectiva
    var camera = new THREE.PerspectiveCamera(70,window.innerWidth / window.innerHeight,0.1,2000
      );
    scene.add(camera);

    //Settings de la c√°mara
    camera.position.set(0, 120, 400);

    // A√±adiendo los OrbitControls
    var controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;

//LUCEES

var light1 = new THREE.AmbientLight(0xB08F63, 0.8);
scene.add(light1);

var dl01 = new THREE.DirectionalLight(0xCDA6FF, 0.4);
dl01.position.set(0, 150, 200);
scene.add(dl01);

var sl01 = new THREE.SpotLight(0xFFF8ED, 1.5, 400, 0.6, 0.8, 2);
sl01.position.set(0, 100, -300);
scene.add(sl01);


var sl02 = new THREE.SpotLight(0xffa500, 1.2, 900,0.9, 1.3, 1);
sl02.position.set(-80, 300, 100);
scene.add(sl02);


// Espacio para colocar los objetos


const wiskito = whiskey({x:-16, y:71.5, z:-110});
scene.add(wiskito);

const microfono = Micro({x:50, y:40, z:-115});
scene.add(microfono);



const  tequilero = Caballo({x:16, y:69, z:-110});
scene.add(tequilero);

const  diosito = Crucifijo({x:0, y:75, z:-134});
scene.add(diosito);
diosito.scale.set(2,2,2);



const  godcina = Sonidero({x:50, y:40, z:-80});
scene.add(godcina);
godcina.rotation.set(0,1.57,0);

const  vasodeagua = Aguan({x:-10, y:50, z:-70});
scene.add(vasodeagua);


const BASE1 = base({x:0, y:0, z: 0});
scene.add(BASE1);


const pan = ESC01({x:-30, y:39, z:-50});
scene.add(pan);



const vela = ESC02({x:-55, y:40.5, z:-25});
scene.add(vela);

const vela2 = ESC02({x:-55, y:40.5, z:-135});
scene.add(vela2);

const vela3 = ESC02({x:55, y:40.5, z:-135});
scene.add(vela3);

const vela4 = ESC02({x:55, y:40.5, z:-25});
scene.add(vela4);

const vela5 = ESC02({x:34, y:55, z:-135});
scene.add(vela5);
vela5.scale.set(1.5,2,1.5);

const vela6 = ESC02({x:-34, y:55, z:-135});
scene.add(vela6);
vela6.scale.set(1.5,2,1.5);

const coca = ESC03({x:-30, y:36, z:-40});
scene.add(coca);


const taza = ESC04({x:-50, y:47, z:-75});
scene.add(taza);
taza.rotation.set(0,1.57,0);

const taza2 = ESC05({x:30, y:47, z:-45});
scene.add(taza2);


const taza3 = ESC06({x:30, y:62, z:-110});
scene.add(taza3);

const florero1 = ESC07({x:-80, y:10, z:-10});
scene.add(florero1);

const florero2 = ESC08({x:80, y:10, z:-10});
scene.add(florero2);

const florero3 = ESC09({x:-50, y:40, z:-100});
scene.add(florero3);
florero3.scale.set(.5,.5,.5)

const copal = ESC10({x:50, y:38, z:-40});
scene.add(copal);

const tequilita = tequila({x:5, y:50, z:-85});
scene.add(tequilita);

const retratojose = retrato1({x:0, y:75, z:-120});
scene.add(retratojose);

const retratojuan = retrato2({x:-22, y:55, z:-85});
scene.add(retratojuan);

const retratovale = retrato3({x:0, y:40, z:-39});
scene.add(retratovale);

const Agua = agua ({x:-20,y:44.5,z:-50});
scene.add(Agua);

const Mango = MANGO ({x:-37,y:60,z:-70});
scene.add(Mango);

const Mandarina = mandarina ({x:-35,y:43,z:-70});
scene.add(Mandarina);
Mandarina.scale.set(1,.8,1)

const Manzana = MANZANA ({x:-32,y:60,z:-70});
scene.add(Manzana);

const pisosofrenda = PisosOfrenda ({x:0,y:25,z:-60});
scene.add(pisosofrenda);
pisosofrenda.rotation.set(0,1.57,0);
pisosofrenda.scale.set(2,2,2)

const pozole = Pozole1 ({x:-20,y:30,z:-30});
scene.add(pozole);

const pozole2 = Pozole1 ({x:-30,y:48,z:-110});
scene.add(pozole2);

const DiscoVinyl = Vinyl ({x:-5,y:26,z:-76});
scene.add(DiscoVinyl);
DiscoVinyl.scale.set(2,2,2);

const Cuenco = CUENCO ({x:-35,y:45.2,z:-70});
scene.add(Cuenco);

const Catrin = catrin ({x:40,y:105,z:-100});
scene.add(Catrin);
Catrin.scale.set(2,2,2);

const Flor = flor ({x:-28,y:14,z:125});
scene.add(Flor);
Flor.scale.set(0.7,0.7,0.7);

const velasclonadas01 = velasclonadas({x:0, y:10, z: 0});
scene.add(velasclonadas01)

const ARCOFLORES = arcoflores ({x:-60,y:18,z:-150});
scene.add(ARCOFLORES);
ARCOFLORES.scale.set(0.7,0.8,0.7);

const ARCOFLORES2 = arcoflores ({x:-30,y:16,z:130});
scene.add(ARCOFLORES2);
ARCOFLORES2.scale.set(0.35,0.3,0.3);

//Tapete aserr√≠n 
const TAPETEASERRIN = tapeteaserrin({x:-180,y:105,z:-100});
scene.add(TAPETEASERRIN);
TAPETEASERRIN.position.set(0,0,2);

//VALLAS EXTERIORES
const VALLAS = vallas ({x:-160,y:25,z:300});
scene.add(VALLAS);
VALLAS.scale.set(1,1,1);

//FAROLES CON LUCES
const FAROL = farol ({x:-130,y:150,z:-140});
scene.add(FAROL);
FAROL.scale.set(3,2.6,2);

const FAROL2 = farol ({x:-130,y:150,z:280});
scene.add(FAROL2);
FAROL2.scale.set(3,2.6,2);

const FAROLGRANDE = farolgrande ({x:-130,y:150,z:175});
scene.add(FAROLGRANDE);
FAROLGRANDE.scale.set(2.4,2.6,2);
FAROLGRANDE.rotation.set(0,1.57,0);

const FAROLGRANDE2 = farolgrande ({x:140,y:150,z:175});
scene.add(FAROLGRANDE2);
FAROLGRANDE2.scale.set(2.4,2.6,2);
FAROLGRANDE2.rotation.set(0,1.57,0);
//
const CATRINA = catrina ({x:-180,y:105,z:-100});
scene.add(CATRINA);
CATRINA.scale.set(2,2,2);







var geometry01 = new THREE.BoxGeometry(5,40,3);
var material1 = new THREE.MeshLambertMaterial({
  color:0xFF82E2, side: THREE.DoubleSide
});
var mesh01 = new THREE.Mesh(geometry01,material1);
//scene.add(gmesh01);
mesh01.position.set(-25,15,70);
mesh01.receiveShadow = true;

    var geometry02 = new THREE.BoxGeometry(40,25,3);
var material2 = new THREE.MeshLambertMaterial({
  color:0xFF82E2, side: THREE.DoubleSide
});

var mesh02 = new THREE.Mesh(geometry02,material2);
//scene.add(mesh02);
mesh02.position.set(-25,35,70);
mesh02.receiveShadow = true;

      
//letras

//primer texto

var loader = new FontLoader();
var font = loader.parse(fontJSON3);
var geometry03 = new TextGeometry('Y ESTA VA POR',{
    font: font,
    size: 1.7,
    height: 2,
});

geometry03.center();

var material03 = new THREE.MeshLambertMaterial({
    color:0x1F1F1F,
    emissive:0x1F1F1F,
    
});

var mesh03 = new THREE.Mesh(geometry03,material03);
//scene.add(mesh03);
mesh03.position.set(-25,44,71);
mesh03.castShadow = true;




var loader = new FontLoader();
var font = loader.parse(fontJSON3);
var geometry04 = new TextGeometry(' LOS QUE YA NO ESTAN',{
    font: font,
    size: 1.7,
    height: 2,
});

geometry04.center();

var material04 = new THREE.MeshLambertMaterial({
    color:0x1F1F1F,
    emissive:0x1F1F1F,
   
});

var mesh04 = new THREE.Mesh(geometry04,material04);
//scene.add(mesh04);
mesh04.position.set(-25,41,71);
mesh04.castShadow = true;





var ggeometry01 = new THREE.SphereGeometry( 3, 32, 16, 0, 3.1416 );
var gmaterial01 = new THREE.MeshLambertMaterial({
  color:0xC4A256, side: THREE.DoubleSide
});
var gmesh01 = new THREE.Mesh(ggeometry01,gmaterial01);
//scene.add(gmesh01);
gmesh01.castShadow = true;
gmesh01.position.set(0,23,0);
gmesh01.rotation.set(-1.57,0,0);


var ggeometry02 = new THREE.CylinderGeometry(3,3,20,20);
var gmesh02 = new THREE.Mesh(ggeometry02,gmaterial01);
//scene.add(gmesh02);
gmesh02.castShadow = true;
gmesh02.position.set(0,13,0);

var ggeometry03 = new THREE.CylinderGeometry(1,1,2,20);
var gmesh03 = new THREE.Mesh(ggeometry03,gmaterial01);
//scene.add(gmesh03);
gmesh03.castShadow = true;
gmesh03.position.set(0,26,0);

var ggeometry04 = new THREE.CylinderGeometry(1,1,3,20);
var gmaterial02 = new THREE.MeshLambertMaterial({
  color:0xB0B0B0, side: THREE.DoubleSide
});
var gmesh04 = new THREE.Mesh(ggeometry04,gmaterial02);
//scene.add(gmesh04);
gmesh04.castShadow = true;
gmesh04.position.set(0,28.5,0);


var ggeometry05 = new THREE.TorusGeometry(1,0.2,5,30);
var gmaterial03 = new THREE.MeshLambertMaterial({
  color:0x261E1E, side: THREE.DoubleSide
});
var gmesh05 = new THREE.Mesh(ggeometry05,gmaterial03);
//scene.add(gmesh05);
gmesh05.castShadow = true;
gmesh05.position.set(0,30,0);
gmesh05.rotation.set(1.57,0,0);


var ggeometry06 = new THREE.CylinderGeometry(1.1,1.1,1,20);
var gmesh06 = new THREE.Mesh(ggeometry06,gmaterial02);
//scene.add(gmesh06);
gmesh06.castShadow = true;
gmesh06.position.set(0,30.5,0);


//Etiqueta

var ggeometry07 = new THREE.CylinderGeometry(3.1, 3.1, 18, 20,10,false,3.5,5.4);
var texture1 = new THREE.TextureLoader().load("./assets/etiquetatequila2.png");
var material04 = new THREE.MeshLambertMaterial({ map: texture1 });
var gmesh07 = new THREE.Mesh(ggeometry07, material04);
//scene.add(gmesh07);
gmesh07.castShadow = true;
gmesh07.position.set(0,14,0);
gmesh07.rotation.set(0,0,0);



var tequilazo = new THREE.Group();
tequilazo.add(gmesh01,gmesh02,gmesh03,gmesh04,gmesh05,gmesh06,
gmesh07
);
//scene.add(tequila);
tequilazo.position.set(-39,27,73);
tequilazo.scale.set(0.6,0.6,0.6);
tequilazo.rotation.set(0,0,-1.);
tequilazo.castShadow = true; 




var ggeometry001 = new THREE.CylinderGeometry(2,1.3,7,20);
var material001 = new THREE.MeshLambertMaterial({
    color:0xADADAD, side: THREE.DoubleSide, transparent: true,   opacity: 0.5
});
var gmesh001 = new THREE.Mesh(ggeometry001,material001);
//scene.add(gmesh01);
gmesh001.position.set(0,10,0);
gmesh001.castShadow = true; 


var ggeometry002 = new THREE.CylinderGeometry(1.5,.8,6.2,20);
var material002 = new THREE.MeshLambertMaterial({
    color:0xDE7F00, side: THREE.DoubleSide, 
});
var gmesh002 = new THREE.Mesh(ggeometry002,material002);
//scene.add(gmesh02);
gmesh002.position.set(0,10,0);
gmesh002.castShadow = true; 



var ggeometry003 = new THREE.CylinderGeometry(1,.9,1,20);
var material003 = new THREE.MeshLambertMaterial({
    color:0x9E9E9E, side: THREE.DoubleSide, 
});
var gmesh003 = new THREE.Mesh(ggeometry003,material003);
//scene.add(gmesh03);
gmesh003.position.set(0,7,0);
gmesh003.castShadow = true; 


var caballito = new THREE.Group();
caballito.add(gmesh001,gmesh002,gmesh003);
//scene.add(caballito);
caballito.position.set(-17,20,72);
caballito.rotation.set(0,0,0.2)
caballito.castShadow = true; 

var letrero = new THREE.Group();
letrero.add(mesh01,mesh02,mesh03,mesh04,tequilazo,caballito);
scene.add(letrero);
letrero.position.set(-85,14,221);
letrero.rotation.set(0,0.4,0);
letrero.castShadow = true; 



//Sombras

renderer.shadowMap.enabled = true;
renderer.shadowMap.type = THREE.PCFSoftShadowMap;

//sombra de la luz
sl01.castShadow = true;
sl01.shadow.mapSize.width = 1024;
sl01.shadow.mapSize.height = 1024;
sl01.shadow.camera.near = 10;
sl01.shadow.camera.far = 200;




      

//üé∞üé∞Rendering y animaci√≥n
    requestAnimationFrame(render);
    function render() {

    //ü™Ñü™Ñ Animaci√≥n - 

    //üéÆüéÆActualizaci√≥n del OrbitControls para generar la suavidad de movimiento
    controls.update();

    //Llamado para renderizar y volver a llamar a la misma funci√≥n (render)
    renderer.render(scene, camera);
    requestAnimationFrame(render);
    }
</script>
</body>

</html>
